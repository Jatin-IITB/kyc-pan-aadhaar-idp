# Confidence thresholds for routing decisions
confidence:
  crop_min: 0.80
  ocr_min: 0.70
  extraction_min: 0.75
  validation_min: 0.85
  face_match_min: 0.60
  hitl_trigger: 0.85  # If overall < this, route to HITL

# Quality gates
quality:
  min_resolution: 600  # pixels (shortest side)
  max_blur_variance: 100  # Laplacian variance
  min_brightness: 30
  max_brightness: 240

# Validation rules
validation:
  pan:
    regex: "^[A-Z]{5}[0-9]{4}[A-Z]$"
    status_char_index: 3  # 4th character (0-indexed)
    valid_statuses: ["P", "C", "H", "F", "A", "T", "B", "L", "J", "G"]
  aadhaar:
    digit_count: 12
    enforce_verhoeff: true
    allow_masked: false  # Whether to accept XXXX XXXX 1234 format

# Forensics
forensics:
  ela_threshold: 0.65  # Higher = more suspicious
  font_consistency_threshold: 0.70  # Lower = more suspicious

# Field weights for confidence scoring
field_weights:
  ocr_confidence: 0.30
  extraction_agreement: 0.25
  validation_score: 0.30
  spatial_consistency: 0.10
  format_match: 0.05
